<!-- index.html for WebTales/CYO Adventure CS304 Project -->

{% extends "base.html" %}
{% block main_content %}
<img id="logo" src="../static/logo_cyo.png" width="400" height="300">

<p>Please login or join, using one of the forms below:</p>
<div id="formdiv">
    <div id="joinformdiv">
        <form id="joinform" action="{{url_for('join')}}" method="post">
            <h2>Join</h2><br>
            <p><label><input type="text" name="username" required pattern="^\w+$"> Username</label></p>
            <p><label><input type="password" name="password1" required> Password </label></p>
            <p><label><input type="password" name="password2" required> Password</label></p><br>
            <p><button class="buttons" type="submit">Submit</button></p>
        </form>
    </div>

    <div id="loginformdiv">
        <form id="loginform" action="{{url_for('login')}}" method="post">
            <h2>Login</h2><br>
            <p><label><input type="text" name="username" required pattern="^\w+$"> Username</label></p>
            <p><label><input type="password" name="password" required></label> Password</p><br>
            <p><button class="buttons" type="submit">Submit</button></p>
        </form>
    </div>
</div>

{% endblock %}


{% block jquery_scripts %}
<script>
    $("#joinform").on('submit', function (event) {
        var pw1 = $(this).find('[name=password1]').val();
        var pw2 = $(this).find('[name=password2]').val();
        // should also check for length and common words etc
        if (pw1 != pw2) {
            // something more sophisticated than alert would be nice
            alert("passwords don't match");
        }
    });
</script>
{% endblock %}
